variables:
  GIT_SUBMODULE_STRATEGY: normal
  CI: ''
  BUILD_EFFECTIVE_YML_FILE: docker-compose.yml
  NPM_AUTH_TOKEN: ${CI_JOB_TOKEN}
  GIT_COMMIT_HASH: ${CI_COMMIT_SHORT_SHA}
  PIPELINE_ID: ${CI_PIPELINE_IID}
  BASE_IMAGE: base-image:${CI_COMMIT_SHORT_SHA}
  BUILD_IMAGE: build-image:${CI_COMMIT_SHORT_SHA}

before_script:
  - docker --version
  - docker-compose --version
  - docker login --username $DOCKER_REGISTRY_USER --password $DOCKER_REGISTRY_PASS $DOCKER_REGISTRY
