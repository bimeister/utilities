version: '3.4'

services:
  utilities_build:
    image: '${IMAGE_TAG}'
    build:
      context: ./
      dockerfile: Dockerfile.build
    environment:
      - PKG_VERSION
      - PKG_TAG
      - PUBLISH
      - NPM_REPOSITORY_LOGIN
      - NPM_REPOSITORY_PASSWORD
      - NPM_REPOSITORY_EMAIL
      - NPM_REPOSITORY_URL

  utilities_lint:
    build:
      context: ./
      dockerfile: Dockerfile.lint

  utilities_test:
    build:
      context: ./
      dockerfile: Dockerfile.test

  utilities_docs:
    build:
      context: ./
      dockerfile: Dockerfile.docs
    container_name: '${DOCS_CONTAINER_NAME}'
